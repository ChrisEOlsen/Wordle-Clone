<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wordle Clone</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="word-screen">
        <button id="input" class="1">X</button>
        <button id="input" class="2">X</button>
        <button id="input" class="3">X</button>
        <button id="input" class="4">X</button>
        <button id="input" class="5">X</button>
    </div>

<script>

    //this method of finding 5 letter words
    const wordList = ["cats","alien","trout","dog","arithmetic","balls","jingle"]; //should only accept 5 letter words
    const validWords = wordList.filter(word => word.length == 5);

    //manage key input
    const buttons = document.querySelectorAll("#input");
    const validKeys = 'abcdefghijklmnopqrstuvwxyz'.split('');
    let chosenWord = '';
    let currentWord = '';

    function chooseWord() {
        chosenWord = validWords[Math.floor(Math.random() * validWords.length)];
    }
    chooseWord();
    console.log(chosenWord);

    function handleKeys(e){
        let erase = false;
        if(validKeys.includes(e.key) && currentWord.length < 5){ //input letter
            currentWord+=e.key;
            buttons.forEach(button => {
                if(button.className == currentWord.length){
                    button.textContent = e.key;
                }});
        }else if(e.key == 'Backspace' && currentWord.length > 0){ //erase letter
            currentWord = currentWord.slice(0,-1);
            buttons.forEach(button => {
                if(button.className == currentWord.length + 1){
                    button.textContent = '';
                }});
        }else if (e.key == 'Enter' && currentWord.length == 5){
            //check if currentWord is a valid word and 
            //check if currentWord is chosen word
            if(validWords.includes(currentWord) && currentWord == chosenWord){
                console.log('correct!');
            }
        }
        console.log(currentWord);
    }
    window.addEventListener('keydown', handleKeys);

</script>
</body>
</html>