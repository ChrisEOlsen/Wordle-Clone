<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wordle Clone</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="word-screen">
        <button id="input" class="1">X</button>
        <button id="input" class="2">X</button>
        <button id="input" class="3">X</button>
        <button id="input" class="4">X</button>
        <button id="input" class="5">X</button>
    </div>

<script>

    //this method of finding 5 letter words
    const wordList = ["cats","alien","trout","dog","arithmetic","balls","jingle"]; //should only accept 5 letter words
    const validWords = wordList.filter(word => word.length == 5);

    //manage key input
    const buttons = document.querySelectorAll("#input");
    let letterClicks = 0;
    const validKeys = 'abcdefghijklmnopqrstuvwxyz'.split('');
    let chosenWord = '';
    let currentWord = '';

    function chooseWord() {
        chosenWord = validWords[Math.floor(Math.random() * validWords.length)];
    }
    chooseWord();
    console.log(chosenWord);

    function handleKeys(e){
        let erase = false;
        if(validKeys.includes(e.key)){ //input letter
            letterClicks++;
            currentWord+=e.key;
            buttons.forEach(button => {
                if(button.className == letterClicks){
                    button.textContent = e.key;
                }
            });
        }else if(e.key == 'Backspace'){ //erase letter
            letterClicks--;
            currentWord = currentWord.slice(0,-1);
            buttons.forEach(button => {
                if(button.className == letterClicks+1){
                    button.textContent = '';
                }
            });
        }else if (e.key == 'Enter' && letterClicks == 5){
            //check if currentWord is a valid word
            let wordIsValid = false;
            if(validWords.includes(currentWord)) wordIsValid = true;
            //check if currentWord is chosen word
            let wordIsCorrect = false;
            if(currentWord == chosenWord && wordIsValid == true){
                console.log('correct!');
            }
        }
        if(letterClicks < 0) letterClicks = 0;
        else if(letterClicks > 5) letterClicks = 5;
    }
    window.addEventListener('keydown', handleKeys);

</script>
</body>
</html>